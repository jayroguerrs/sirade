"use strict";import{environment}from"../../../environment.js";var KTSignoutGeneral={init:function(){document.querySelector("#kt_sign_out_button").addEventListener("click",(function(n){n.preventDefault(),msgWarning("¿Está seguro(a) que desea cerrar su sesión?","Si, Cerrar",(()=>{msgLoad("Procesando..."),fetch(`${environment.apiSRD}/API/auth/sign-out`,{method:"POST"}).then((n=>n.json())).then((n=>{1==n.estado&&(location.href=environment.apiSRD)}),(()=>{}))}))})),$("#select-rol").on("change",(function(){msgLoad("Procesando...");var n=$(this).val(),e=$("#app_nombre").val();if(n){var o=new FormData;o.append("rol",n),o.append("usuario",$("#session_usuario_id").val()),o.append("usuario_rol",$("#session_rol_id").val()),fetch(`${environment.apiSRD}/API/auth/actualizar-rol`,{method:"POST",body:o}).then((n=>n.json())).then((n=>{1==n.estado?window.location.href=environment.apiSRD+`/admin/?app=${e}`:msgError(ErrorMensaje(n),(()=>{2==n.estado&&location.reload()}),(()=>{2==n.estado&&location.reload()}))}))}}))}};KTUtil.onDOMContentLoaded((function(){KTSignoutGeneral.init()}));